```toc
```


## 소켓 함수
- 소켓 함수를 호출하면, 인자로 다음을 넘겨준다.
	- PF_INET : 사용하는 프로토콜 (일반적으로 인터넷)을 명시한다.
		- PF_INET : IPv4, PF_INET6 : IPv6, 기타
	- SOCK_STREAM : TCP / UDP 여부
	- 소켓이 가지고 갈 프로토콜이 인터넷인지 아닌지 여부를 구분해 주어야 한다.

### 소켓의 타입
- 데이터의 전송 방식을 의미한다. TCP vs UDP
	- TCP : 연결 지향형 / UDP : 비 연결 지향형
		- TCP는 연결이 성립되어야 데이터를 주고 받지만, UDP는 그렇지 않다.
		- TCP를 사용한 어플리케이션은 다음과 같은 특징이 있다. (SOCK_STREAM)
			- 중간에 데이터가 소멸되지 않는다. 
				- 네트워크에선 소멸될 수 있는데 이걸 TCP가 다시 전송한다. 신뢰성 높음.
				- 데이터를 받았다는 응답이 있을때까지 버퍼에 데이터를 남겨둔다.
				- 이론적인 백그라운드가 있어야 프로토콜의 문제인지 네트워크 프로토콜의 문제인지 알 수 있다.
			- 전송 순서대로 데이터가 수신된다.
				- 네트워크에선 순서와 상관 없이 전송되지만 어플리케이션에서는 순차적으로 받을 수 있다.
			- 데이터의 경계가 존재하지 않는다.
				- stream of bytes
		- UDP를 사용한 어플리케이션은 다음과 같은 특징을 갖는다. (SOCK_DGRAM)
			- 데이터가 생성된 형태 그대로 네트워크로 전송된다.
				- 데이터에 임의의 경계가 존재한다.
			- 데이터의 정상적인 수신을 확인하지 않기 때문에 데이터가 손실 / 파손 될 수 있다.
				- TCP는 이를 모두 확인한다.
			- 한번에 전송할 수 있는 데이터의 크기가 제한된다.
				- TCP도 제한된다.
	
- 소켓이 생성될 때 소켓의 타입도 결정될 수 있어야 한다.
	- 인터넷은 CSN과 PSN중 PSN을 선택하여 네트워크를 연결한다.
	- CSN / PSN에서의 연결 지향형은 물리적 연결을 의미한다.
		- CSN은 연결 지향 / PSN은 비 연결지향이고, 인터넷은 PSN을 사용한다.

- 서버에서는 접속자가 생성될 때 마다 하나의 소켓이 할당된다.
	- 소켓 입장에서 네트워크는 1대 1 커넥션이다.
- 어플리케이션 입장에서는 어플리케이션의 데이터 자체의 바운더리를 고려할 필요가 없다.

## 인터넷 주소
- 인터넷에 할당하는 주소 체계가 존재한다.
	- 4바이트 주소 체계인 IPv4와 16바이트 체계 IPv6가 존재한다.
- 컴퓨터를 구분하는 용도로 사용된다.
- 클래스 별로 여러가지 나뉜다.

## 포트 번호
- 소켓을 구분하기 위해 어플리케이션에 할당되는 번호
- 하나의 프로그램이 둘 이상의 소켓이 할당될 수 있다.
	- 그러나 하나의 프로세스는 하나의 포트만 할당될 수 있다.
- 16비트로 할당되고, 0~65535까지 사용할 수 있다.
	- 0~1023까지는 미리 할당되어 있다.
- 소켓과 포트가 헷갈리면 안된다.

- struct에는 변수의 default가 public, class는 변수의 default가 private이다.
	- 코드에서 c나오는데 이정도고 너무 혼란스러워 할 필요 없다.
- sockaddr_in
	- 매니저한테 쓸 포트를 알려줄 수 있어야 한다.
		- 전송을 위해 필요한 정보를 한번에 넘기기 위해서 struct를 사용하여 한번에 전송하게 된다.
	- 여러가지 정보를 한번에 담는다.
		- sin_family : 프로토콜 정보 담는다. 인터넷을 쓸 주소로 표시한다. sa_family_t
			- AF_INET / AF_INET6 / AF_LOCAL 3개 define되어 있다.
		- sin_port : 포트 번호, uint16_t
		- sin_addr : 32비트 IP 주소를 저장한다. 네트워크 바이트 순서로 저장한다. in_addr
			- 32비트 정수로 정의되어 있는 구조체로 자료형이 설정된다.
		- sin_zero : 특별한 의미는 없다. 사용되지 않는다. char
	- bind 등을 사용할 때는 형변환을 해야 하고, 크기가 같아 문제는 없다.
	- 반드시 사용하고 있지 않은 새로운 포트를 지정해야 한다.

